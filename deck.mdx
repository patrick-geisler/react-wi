export { default as theme } from './theme'

# Whats New in 16.6??

A talk by [@patrick-geisler]() and [@caryyon]() given at the [MKE-Reactjs-Meetup](https://www.meetup.com/ReactJS-Wisconsin/).

---

## Main Topics

* `React.memo()`
* `React.lazy()`
* `static contextType()`
* `static getDerivedStateFromError()`
* A few Deprecations

---

## React.memo()

`React.memo()` is a HOC  that can be wrapped around any functional component to create 'memoized' components. 

```notes
The wrapped component will only rerender when it's props change. 

Similar to  class(stateful) lifecycle method `shouldComponentUpdate()`

A component that renders the same given the same props to be stored in memory. 

This allows the component to skip being rerendered will simply reuse the last rendered result of the component.

```
---

## React.memo() Example
```javascript

class App extends Component {
  // Set State
  // Handle Click count++
  render() {
    return (
      <div className="App">
        <div>
          {this.state.count}
        </div>
        <button onClick={this.handleClick}>
            Counter++
        </ button>
        <AnotherComponent text={'Title'}/>
      </div>
    );
  }
}

```

---

## React.memo() Example
```javascript

import React, { memo } from 'react'

const AnotherComponent = ({ text }) => {
  console.log('AnotherComponent is rendering')
  return(
    <div>
      { text }
    </ div>
  )
}

export default memo(AnotherComponent)

```
---

# React.memo() Example

---

## Custom Comparisons

```javascript 
import React, { memo } from 'react'

// Stateless Funcitonal Component
const AnotherComponent = props => {}

const areEqual = (prevProps, nextProps) => {}
  /*
  return true if passing nextProps to render would return
  the same result as passing prevProps to render,
  otherwise return false
  */

export default memo(AnotherComponent, areEqual)

```


---

## Custom Comparisons

This method only exists as a `performance optimization`. Do not rely on it to prevent a render.



---

## React.lazy()

`React.lazy()` is a way to render a dynamically imported component.

---

## React.Suspense

`React.Suspense` let you specify the loading indicator in case some components in the tree below it are not yet ready to render.

---
## React.Suspense

Rendering lazy components requires that thereâ€™s a `<React.Suspense>` component higher in the rendering tree.
---

## React.lazy() Example

```javascript
import React, { lazy, Suspense } from 'react'
```

```notes
Destructure lazy and Suspense from react
```
---

## React.lazy() Before
```javascript

import Component from './Component'

const NewComp = () => {
    return (
        <React.Fragment>
            <Component />
        </React.Fragment>
    )
}
```
```notes
Normal import of component
Normal use of component in parent.
```
---
## React.lazy() After

```javascript
const Component = lazy(() => import('./Component'))

const NewComp = () => {
    return (
        <React.Suspense fallback={<Loader />}>
            <Component />
        </React.Suspense>
    )
}


```

---

## static contextType()

Convenience API to consume a context value from within a class component.

---
## static contextType()

```javascript
import { MyContext } from './MyContext'

class UseContext extends Component {
  static contextType = MyContext
  componentDidMount(){
    let value = this.context
    // Do something at mount using MyContext
  }
  render(){
    let value = this.context
    // Render something based on MyContext
  }
}

```

---

## Static getDerivedStateFromError()

---

## Deprecations